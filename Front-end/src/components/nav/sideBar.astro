---
import Logo from "../../images/sideBarImg/Logo.png";
import IconExpand from "../../images/sideBarImg/Expand icon.png";
import { Elementoscript } from "../../helpers/elements";
import  Elemento  from "../nav/elementSidebar.astro";
import ElementSidebar from "../nav/elementSidebar.astro";
import Logomin from "../../images/sideBarImg/Logomin.png";
---

<aside class=" sidebar hidden sm:flex w-[21rem] bg-greyBlack rounded-md" id="sidebar">
  <div class="flex flex-col gap-8">
    <img
      id="toggleBtn"
      src={IconExpand.src}
      class="absolute pl-[16rem] pt-6 cursor-pointer"
      alt=""
    />
    <div class="">
      <img src={Logo.src} class="px-16" alt="" />
      <img src={Logomin.src} class="px-16 hidden" id="logo-min" alt="" />
    </div>
    <div class="flex flex-col gap-3">
        {Elementoscript.map((Elementoscript, index) => (
            <Elemento icon={Elementoscript.icon} texto={Elementoscript.texto} />
          ))}
    </div>
    
    <div class="flex flex-col gap-3">
      
    </div>
    <div class="border-t-2 flex flex-col pt-14 justify-end border-t-white" data-tooltip="Salir">
      <div
        class="w-full h-full relative bg-darkslategray box-border flex flex-row items-center justify-end p-6 gap-[12px] leading-[normal] tracking-[normal] text-left text-xs text-darkgray font-base-medium"
      >
        <div class="flex-1 flex flex-row items-center justify-start gap-[12px]">
          <img
            class="h-10 w-10 relative rounded-[99px] overflow-hidden shrink-0 object-cover"
            loading="lazy"
            alt=""
            src="/public/avatar@2x.png"
          />

          <div class="flex-1 flex flex-col items-start justify-start gap-[2px]">
            <div class="self-stretch relative leading-[20px] font-medium">
              Welcome back ðŸ‘‹
            </div>
            <div
              class="self-stretch relative text-sm leading-[20px] font-medium text-white"
            >
              Johnathan
            </div>
          </div>
        </div>
        <img
          class="h-5 w-5 relative overflow-hidden shrink-0"
          loading="lazy"
          alt=""
          src="/public/caret.svg"
        />
      </div>
    </div>
  </div>
</aside>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      const sidebar = document.getElementById('sidebar');
      const toggleButton = document.getElementById('toggleBtn');
      const sidebarLogo = document.getElementById('logo-min');
      const elements = document.querySelectorAll('.sidebar-element span');
  
      toggleButton.addEventListener('click', () => {
        if (sidebar.classList.contains('w-[21rem]')) {
          sidebar.classList.remove('w-[21rem]');
          sidebar.classList.add('w-[10rem]');
          sidebarLogo.classList.add('block');
          elements.forEach(element => {
            element.classList.add('hidden');
          });
          toggleButton.innerHTML = '<i class="fa-solid fa-angle-right"></i>';
        } else {
          sidebar.classList.remove('w-[10rem]');
          sidebar.classList.add('w-[21rem]');
          sidebarLogo.classList.remove('hidden');
          elements.forEach(element => {
            element.classList.remove('hidden');
          });
          toggleButton.innerHTML = '<i class="fa-solid fa-angle-left"></i>';
        }
      });
    });
  </script> 